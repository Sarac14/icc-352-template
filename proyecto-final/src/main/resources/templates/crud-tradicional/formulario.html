<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <head th:replace="/templates/crud-tradicional/plantilla.html::head">

        <title th:text="${titulo}">...</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" href="../../publico/css/Responsive-Form-Contact-Form-Clean.css">
    <link rel="stylesheet" href="../../publico/css/Responsive-Form.css">
        <link rel="stylesheet" href="../../publico/css/bootstrap.min.css">

    </head>

<body>
    <div class="container">
        <div>
            <form enctype="application/x-www-form-urlencoded" method="post" th:attr="action=${accion}" >
                <input type="hidden" id="id" name="_id" />
                <div class="form-group mb-3">
                    <div id="formdiv">
                        <div class="row" style="margin-right: 0px;margin-left: 0px;padding-top: 24px;margin-top: 28px;">
                            <div class="col-md-8 offset-md-1">
                                <p style="margin-left:2%;font-family:Roboto, sans-serif;font-size:24px;"><strong>Nombre Completo</strong></p>
                            </div>
                            <div class="col-md-10 offset-md-1"><input class="form-control" type="text" style="margin-left:0px;font-family:Roboto, sans-serif;" name="nombre" id="name" placeholder="nombre"></div>
                        </div>
                        <div class="row" style="margin-right:0px;margin-left:0px;padding-top:24px;margin-top:-16px;">
                            <div class="col-md-8 offset-md-1">
                                <p style="margin-left:2%;font-family:Roboto, sans-serif;font-size:24px;"><strong>Nivel Escolar</strong></p>
                            </div>

                            <select class="form-select" style="font-family:Roboto, sans-serif;" name="nivelEscolar" id="level">
                                <optgroup label="Nivel escolar">
                                    <option value="Basico" >Basico</option>
                                    <option value="Medio" >Medio</option>
                                    <option value="Grado Universitario" >Grado Universitario</option>
                                    <option value="Postgrado" >Postgrado</option>
                                    <option value="Doctorado" >Doctorado</option>
                                </optgroup>
                            </select>

                        </div>

                        <div class="row" style="margin-right:0px;margin-left:0px;padding-top:24px;">
                            <div class="col-md-8 offset-md-1">
                                <p style="margin-left:2%;font-family:Roboto, sans-serif;font-size:24px;"><strong>Sector</strong></p>
                            </div>
                            <div class="col-md-10 offset-md-1">
                                <input class="form-control" type="text" style="margin-left:0px;font-family:Roboto, sans-serif;" name="sector" id="sector" placeholder="Sector">
                            </div>
                        </div>
                        <div class="row" style="margin-right:0px;margin-left:0px;padding-top:24px;">
                            <div class="col-md-8 offset-md-1">
                                <p style="margin-left:2%;font-family:Roboto, sans-serif;font-size:24px;"><strong>Usuario</strong></p>
                            </div>
                            <div class="col-md-10 offset-md-1"><input readonly="true"  class="form-control" type="text" style="margin-left:0px;font-family:Roboto, sans-serif;" name="usuario" id="usuario" placeholder="usuario"></div>
                        </div>
                        <div class="row" style="margin-right:0px;margin-left:0px;padding-top:24px;">
                            <div class="col-12 col-md-4 offset-md-4"><button class="btn btn-light btn-lg" style="font-family:Roboto, sans-serif;" type="reset">Limpiar</button>
                               <!-- <button class="btn btn-light btn-lg" style="margin-left:16px;" onclick="registrar()">Enviar</button></div>-->
                            <button onclick="registrar()" style="margin-top: 20px; width: 100%;" class="btn btn-success">Enviar</button>

                        </div>
                    </div>
                </div>
                <input type="hidden" id="latitud" name="latitud">
                <input type="hidden" id="longitud" name="longitud">
                </div>
            </form>
        </div>
    </div>
    <script src="../../publico/js/bootstrap.min.js"></script>

    <script>
        document.querySelector("form").addEventListener("submit", function(event) {
            event.preventDefault();

            if (!navigator.geolocation) {
                alert("La geolocalizaci칩n no est치 disponible en tu navegador. Por favor, introduce la latitud y longitud manualmente.");
                return;
            }

            navigator.geolocation.getCurrentPosition(function(position) {
                document.getElementById("latitud").value = position.coords.latitude;
                document.getElementById("longitud").value = position.coords.longitude;

                event.target.submit();
            }, function() {
                alert("Error al obtener la ubicaci칩n. Por favor, introduce la latitud y longitud manualmente.");
            });
        });
    </script>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/serviceworkers.js', {scope: '/crud-form/crearForm'}).then(function(registration) {
                    console.log('Registrando el servicio en el ambiente: ', registration.scope);
                }, function(err) {
                    console.log('Service Worker fall칩 el registro: ', err);
                });
            });
        }
    </script>


</body>

</html>